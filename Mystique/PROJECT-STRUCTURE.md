# Mystique é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ—ï¸ åˆ†å±‚æ¶æ„æ¦‚è¿°

æœ¬é¡¹ç›®é‡‡ç”¨**5å±‚åˆ†å±‚æ¶æ„**ï¼ŒæŒ‰ç…§ä¾èµ–è°ƒç”¨å…³ç³»å’ŒåŠŸèƒ½èŒè´£è¿›è¡Œç»„ç»‡ï¼Œç¡®ä¿æ¸…æ™°çš„å±‚æ¬¡ç»“æ„å’Œä½è€¦åˆè®¾è®¡ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
Mystique/
â”œâ”€â”€ main-app/              # ğŸ¯ ä¸»åº”ç”¨å±‚
â”‚   â””â”€â”€ MAIN-vite/         # React + Vite ä¸»åº”ç”¨å®¹å™¨
â”œâ”€â”€ micro-apps/            # ğŸ”„ å¾®å‰ç«¯åº”ç”¨å±‚
â”‚   â”œâ”€â”€ STAMGR/            # çŠ¶æ€ç®¡ç†åº”ç”¨
â”‚   â”œâ”€â”€ spectrumcharts/    # é¢‘è°±å›¾è¡¨åº”ç”¨
â”‚   â””â”€â”€ map/               # åœ°å›¾åº”ç”¨
â”œâ”€â”€ base-components/       # ğŸ§± åŸºç¡€ç»„ä»¶åº“å±‚
â”‚   â”œâ”€â”€ dui/               # åŸºç¡€UIç»„ä»¶åº“
â”‚   â””â”€â”€ searchlight-commons/ # é€šç”¨ä¸šåŠ¡ç»„ä»¶åº“
â”œâ”€â”€ themes-tools/          # ğŸ¨ ä¸»é¢˜å·¥å…·å±‚
â”‚   â”œâ”€â”€ theme/             # ä¸»é¢˜ç³»ç»Ÿ
â”‚   â”œâ”€â”€ dciconfont/        # å›¾æ ‡å­—ä½“åº“
â”‚   â””â”€â”€ gpujs/             # GPUè®¡ç®—å·¥å…·
â”œâ”€â”€ services/              # âš™ï¸ æœåŠ¡æ”¯æ’‘å±‚
â”‚   â”œâ”€â”€ MapServer/         # åœ°å›¾æœåŠ¡
â”‚   â”œâ”€â”€ MonitorNodeSelector/ # ç›‘æ§èŠ‚ç‚¹é€‰æ‹©å™¨
â”‚   â””â”€â”€ QianKunHelper/     # å¾®å‰ç«¯åŠ©æ‰‹
â””â”€â”€ PROJECT-STRUCTURE.md  # ğŸ“‹ é¡¹ç›®ç»“æ„è¯´æ˜
```

## ğŸ”— å±‚çº§è°ƒç”¨å…³ç³»

### è°ƒç”¨å±‚æ¬¡ (è‡ªä¸Šè€Œä¸‹)

1. **main-app** â†’ è°ƒç”¨æ‰€æœ‰å…¶ä»–å±‚
2. **micro-apps** â†’ è°ƒç”¨ base-componentsã€themes-toolsã€services å±‚
3. **base-components** â†’ è°ƒç”¨ themes-tools å±‚
4. **themes-tools** â†’ ç‹¬ç«‹å±‚ï¼Œè¢«å…¶ä»–å±‚è°ƒç”¨
5. **services** â†’ ä¸ºä¸Šå±‚æä¾›æœåŠ¡æ”¯æŒ

### å…·ä½“ä¾èµ–å…³ç³»

#### ğŸ¯ ç¬¬1å±‚ï¼šä¸»åº”ç”¨å±‚ (main-app)
- **MAIN-vite**: React 18 + Vite 4 + qiankun
- **åŠŸèƒ½**: 
  - å¾®å‰ç«¯å®¹å™¨ç®¡ç†
  - å…¨å±€è·¯ç”±å’ŒçŠ¶æ€
  - ç”¨æˆ·è®¤è¯å’Œæƒé™
  - å­åº”ç”¨æ³¨å†Œå’Œç”Ÿå‘½å‘¨æœŸç®¡ç†

#### ğŸ”„ ç¬¬2å±‚ï¼šå¾®å‰ç«¯åº”ç”¨å±‚ (micro-apps)
- **STAMGR**: è®¾å¤‡çŠ¶æ€ç®¡ç†ç³»ç»Ÿ
- **spectrumcharts**: é¢‘è°±æ•°æ®å¯è§†åŒ–
- **map**: åœ°ç†ä¿¡æ¯å’Œç©ºé—´æ•°æ®å±•ç¤º
- **ç‰¹ç‚¹**: ç‹¬ç«‹å¼€å‘ã€ç‹¬ç«‹éƒ¨ç½²ã€è¿è¡Œæ—¶é›†æˆ

#### ğŸ§± ç¬¬3å±‚ï¼šåŸºç¡€ç»„ä»¶åº“å±‚ (base-components)
- **dui**: åŸºç¡€UIç»„ä»¶åº“ (Button, Modal, Input, Tableç­‰)
- **searchlight-commons**: ä¸šåŠ¡é€šç”¨ç»„ä»¶ (SegEditor, PropertyListç­‰)
- **èŒè´£**: æä¾›ç»Ÿä¸€çš„UIè§„èŒƒå’Œä¸šåŠ¡ç»„ä»¶

#### ğŸ¨ ç¬¬4å±‚ï¼šä¸»é¢˜å·¥å…·å±‚ (themes-tools)
- **theme**: CSSä¸»é¢˜ç³»ç»Ÿå’Œæ ·å¼å˜é‡
- **dciconfont**: å›¾æ ‡å­—ä½“åº“
- **gpujs**: GPUåŠ é€Ÿè®¡ç®—å·¥å…·
- **èŒè´£**: æ ·å¼ä¸»é¢˜ã€å·¥å…·å‡½æ•°ã€æ€§èƒ½ä¼˜åŒ–

#### âš™ï¸ ç¬¬5å±‚ï¼šæœåŠ¡æ”¯æ’‘å±‚ (services)
- **MapServer**: åœ°å›¾æœåŠ¡åç«¯
- **MonitorNodeSelector**: ç›‘æ§èŠ‚ç‚¹é€‰æ‹©é€»è¾‘
- **QianKunHelper**: å¾®å‰ç«¯é›†æˆåŠ©æ‰‹
- **èŒè´£**: åº•å±‚æœåŠ¡å’Œå·¥å…·æ”¯æŒ

## ğŸš€ å¼€å‘æµç¨‹

### æ¨èå¼€å‘é¡ºåºï¼š

1. **ç¬¬4å±‚** (themes-tools) â†’ å»ºç«‹æ ·å¼åŸºç¡€
2. **ç¬¬3å±‚** (base-components) â†’ æ„å»ºç»„ä»¶åº“
3. **ç¬¬5å±‚** (services) â†’ é…ç½®æœåŠ¡æ”¯æŒ
4. **ç¬¬2å±‚** (micro-apps) â†’ å¼€å‘ä¸šåŠ¡åº”ç”¨
5. **ç¬¬1å±‚** (main-app) â†’ é›†æˆä¸»åº”ç”¨

### æ„å»ºéƒ¨ç½²é¡ºåºï¼š

```bash
# 1. æ„å»ºä¸»é¢˜å·¥å…·å±‚
cd themes-tools/theme && npm run build
cd ../dciconfont && npm run build
cd ../gpujs && npm run build

# 2. æ„å»ºåŸºç¡€ç»„ä»¶åº“å±‚
cd ../../base-components/dui && npm run build
cd ../searchlight-commons && npm run build

# 3. æ„å»ºæœåŠ¡æ”¯æ’‘å±‚
cd ../../services/MonitorNodeSelector && npm run build
cd ../QianKunHelper && npm run build

# 4. æ„å»ºå¾®å‰ç«¯åº”ç”¨å±‚
cd ../../micro-apps/STAMGR && npm run build
cd ../spectrumcharts && npm run build
cd ../map && npm run build

# 5. æ„å»ºä¸»åº”ç”¨
cd ../../main-app/MAIN-vite && npm run build
```

## ğŸ“‹ æ¶æ„ä¼˜åŠ¿

1. **æ¸…æ™°çš„åˆ†å±‚ç»“æ„**: æŒ‰ç…§ä¾èµ–å…³ç³»å’ŒåŠŸèƒ½èŒè´£åˆ†å±‚
2. **ä½è€¦åˆé«˜å†…èš**: æ¯å±‚èŒè´£å•ä¸€ï¼Œä¾èµ–å…³ç³»æ¸…æ™°
3. **ä¾¿äºå›¢é˜Ÿåä½œ**: ä¸åŒå›¢é˜Ÿå¯è´Ÿè´£ä¸åŒå±‚çš„å¼€å‘
4. **æ”¯æŒæ¸è¿›å¼å¼€å‘**: å¯æŒ‰å±‚é€æ­¥å¼€å‘å’Œéƒ¨ç½²
5. **æ˜“äºç»´æŠ¤æ‰©å±•**: æ–°åŠŸèƒ½æŒ‰å±‚æ¬¡æ·»åŠ ï¼Œä¸å½±å“ç°æœ‰ç»“æ„
6. **æµ‹è¯•å‹å¥½**: å„å±‚å¯ç‹¬ç«‹æµ‹è¯•ï¼Œæé«˜ä»£ç è´¨é‡

## ğŸ”§ æŠ€æœ¯æ ˆæ€»è§ˆ

| å±‚çº§ | ä¸»è¦æŠ€æœ¯æ ˆ | æ„å»ºå·¥å…· |
|------|------------|----------|
| main-app | React 18, Vite 4, qiankun | Vite |
| micro-apps | React, Vite, å„ç§å›¾è¡¨åº“ | Vite/Rollup |
| base-components | React, Less, TypeScript | Rollup |
| themes-tools | CSS, TypeScript, GPU.js | Rollup |
| services | Node.js, Express | Webpack/Rollup |

è¿™ç§åˆ†å±‚æ¶æ„ç¡®ä¿äº†é¡¹ç›®çš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œå›¢é˜Ÿåä½œæ•ˆç‡ï¼ 